-- Выполните эти команды в Supabase Dashboard > SQL Editor

-- 1. Отключить RLS для таблиц
ALTER TABLE public.spas DISABLE ROW LEVEL SECURITY;
ALTER TABLE public.spa_embeddings DISABLE ROW LEVEL SECURITY;

-- 2. Вставить тестовые данные в таблицу spas
INSERT INTO public.spas (id, name, description, price, rating, review_count, location, images, amenities, category, purpose, featured, active) VALUES
('550e8400-e29b-41d4-a716-446655440001', 'Luxury Wellness Resort', 'Премиальный СПА-курорт с полным спектром wellness услуг. Включает массажные процедуры, термальные ванны, йогу и медитацию.', 3400, 4.8, 127, 'Киев', ARRAY['https://via.placeholder.com/800x600'], ARRAY['Сауна', 'Бассейн', 'Йога', 'Ресторан'], 'wellness', 'relaxation', true, true),
('550e8400-e29b-41d4-a716-446655440002', 'Термальный комплекс "Источник"', 'Уникальный термальный СПА-комплекс с естественными горячими источниками и лечебными процедурами.', 2500, 4.6, 89, 'Буковель', ARRAY['https://via.placeholder.com/800x600'], ARRAY['Термальные ванны', 'Грязелечение', 'Сауна'], 'thermal', 'health', false, true),
('550e8400-e29b-41d4-a716-446655440003', 'Medical SPA Clinic', 'Медицинский СПА-центр с профессиональными косметологическими и оздоровительными процедурами.', 3100, 4.9, 156, 'Львов', ARRAY['https://via.placeholder.com/800x600'], ARRAY['Косметология', 'Массаж'], 'medical', 'health', true, true),
('550e8400-e29b-41d4-a716-446655440004', 'Beauty SPA "Эльф"', 'Элитный beauty СПА с авторскими программами красоты и релаксации.', 2800, 4.7, 95, 'Одесса', ARRAY['https://via.placeholder.com/800x600'], ARRAY['Массаж лица', 'Маникюр', 'Педикюр', 'Обертывания'], 'beauty', 'beauty', false, true),
('550e8400-e29b-41d4-a716-446655440005', 'Аква Релакс', 'Современный СПА-центр с уникальными водными процедурами и расслабляющими программами.', 2200, 4.5, 78, 'Киев', ARRAY['https://via.placeholder.com/800x600'], ARRAY['Аквамассаж', 'Гидротерапия', 'Соляная комната', 'Фитобар'], 'wellness', 'relaxation', false, true);

-- 3. Создать простые эмбеддинги (заглушки для тестирования)
-- В реальном проекте используйте OpenAI API для создания векторов
INSERT INTO public.spa_embeddings (spa_id, content, embedding) VALUES
('550e8400-e29b-41d4-a716-446655440001', 'Luxury Wellness Resort Премиальный СПА-курорт с полным спектром wellness услуг. Включает массажные процедуры, термальные ванны, йогу и медитацию. Киев Сауна Бассейн Йога Ресторан wellness relaxation', '[0.1,0.2,0.3]'),
('550e8400-e29b-41d4-a716-446655440002', 'Термальный комплекс "Источник" Уникальный термальный СПА-комплекс с естественными горячими источниками и лечебными процедурами. Буковель Термальные ванны Грязелечение Сауна thermal health', '[0.4,0.5,0.6]'),
('550e8400-e29b-41d4-a716-446655440003', 'Medical SPA Clinic Медицинский СПА-центр с профессиональными косметологическими и оздоровительными процедурами. Львов Косметология Массаж medical health', '[0.7,0.8,0.9]'),
('550e8400-e29b-41d4-a716-446655440004', 'Beauty SPA "Эльф" Элитный beauty СПА с авторскими программами красоты и релаксации. Одесса Массаж лица Маникюр Педикюр Обертывания beauty beauty', '[0.2,0.4,0.6]'),
('550e8400-e29b-41d4-a716-446655440005', 'Аква Релакс Современный СПА-центр с уникальными водными процедурами и расслабляющими программами. Киев Аквамассаж Гидротерапия Соляная комната Фитобар wellness relaxation', '[0.3,0.6,0.9]');

-- 4. Проверить что данные созданы
SELECT COUNT(*) as spa_count FROM public.spas;
SELECT COUNT(*) as embedding_count FROM public.spa_embeddings;
